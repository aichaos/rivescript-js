// Generated by CoffeeScript 2.0.0
var TestCase;

TestCase = require("./test-base");

//###############################################################################
// Bot Variable Tests
//###############################################################################
exports.test_bot_variables = async function(test) {
	var bot;
	bot = new TestCase(test, `
		! var name = Aiden
		! var age = 5

		+ what is your name
		- My name is <bot name>.

		+ how old are you
		- I am <bot age>.

		+ what are you
		- I'm <bot gender>.

		+ happy birthday
		- <bot age=6>Thanks!
	`);
	await bot.reply("What is your name?", "My name is Aiden.");
	await bot.reply("How old are you?", "I am 5.");
	await bot.reply("What are you?", "I'm undefined.");
	await bot.reply("Happy birthday!", "Thanks!");
	await bot.reply("How old are you?", "I am 6.");
	return test.done();
};

exports.test_global_variables = async function(test) {
	var bot;
	bot = new TestCase(test, `
		! global debug = false

		+ debug mode
		- Debug mode is: <env debug>

		+ set debug mode *
		- <env debug=<star>>Switched to <star>.
	`);
	await bot.reply("Debug mode.", "Debug mode is: false");
	await bot.reply("Set debug mode true", "Switched to true.");
	await bot.reply("Debug mode?", "Debug mode is: true");
	return test.done();
};

exports.test_bot_variables_utf8 = async function(test) {
	var bot;
	bot = new TestCase(test, `
		! var 名 = 小小
		! var 年龄 = 5

		+ what is your name
		- My name is <bot 名>.

		+ how old are you
		- I am <bot 年龄>.

		+ what are you
		- I'm <bot 性别>.

		+ happy birthday
		- <bot 年龄=6>Thanks!
	`, {utf8: true});
	await bot.reply("What is your name?", "My name is 小小.");
	await bot.reply("How old are you?", "I am 5.");
	await bot.reply("What are you?", "I'm undefined.");
	await bot.reply("Happy birthday!", "Thanks!");
	await bot.reply("How old are you?", "I am 6.");
	return test.done();
};

exports.test_global_variables_utf8 = async function(test) {
	var bot;
	bot = new TestCase(test, `
		! global 测试 = 禁用

		+ debug mode
		- Debug mode is: <env 测试>

		+ set debug mode *
		- <env 测试=<star>>Switched to <star>.
	`, {utf8:true});
	await bot.reply("Debug mode.", "Debug mode is: 禁用");
	await bot.reply("Set debug mode 启用", "Switched to 启用.");
	await bot.reply("Debug mode?", "Debug mode is: 启用");
	return test.done();
};

